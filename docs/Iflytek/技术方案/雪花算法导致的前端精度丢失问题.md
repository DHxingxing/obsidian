
### 问题根源

JavaScript的Number类型基于IEEE 754双精度浮点数标准，只能安全表示-2^53 + 1到2^53 - 1范围内的整数（即Number.MAX_SAFE_INTEGER = 9007199254740991）。

![[img_v3_02o8_8490a130-6d18-48e9-bc4e-4b4153d470nh.jpg]]

![[img_v3_02o8_f7adc37d-3ae9-43b3-8a70-1e56ec87d7nh.jpg]]

![[img_v3_02o8_364e6193-4c47-4837-a510-e8b6085021nh.jpg]]
### 雪花算法ID范围

雪花算法生成的64位long值范围是-2^63到2^63-1，远超JavaScript安全整数范围，会导致精度丢失

解决方案：使用String类型包装

解决方案2:
注解：
@JsonSerialize(using = ToStringSerializer.class)
private Long acceptBatchNo;