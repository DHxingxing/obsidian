# 目前的问题是

| 代码/配置点              | 暴露出的痛点                          | 具体表现                                                                                                                                                            |
|-------------------------|---------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ModelParams 强类型字段   | OCP 被破坏、字段膨胀                  | 每接入新模型（如DeepSeek、智谱、定制私有LLM等），需在类中新增appId、apiSecret、headers等字段，导致频繁修改类、构造方法、校验逻辑及回写测试                                  |
| YAML 外部化配置          | 键名与Java成员难同步；私有字段无处落地 | ai-models.xxx.params.*出现新键时，若Java Bean无对应字段：<br />· Spring Boot会抛Unknown property（严格绑定）；<br />· Jackson反序列化时抛UnrecognizedPropertyException；<br />· 只能用additionalParams Map临时兜底，但缺乏统一入口和校验 |
| 校验/Header 组装耦合     | 共有与私有参数混淆                    | 同一方法中既校验公共字段，又检查user、stop等私有键；Header部分手写if…else逻辑，难以覆盖所有厂商差异                                                                     |
| 可读性与演进             | 配置冗长，代码碎片化                  | YAML片段多、字段缺省值混杂，业务同学及新同事阅读困难；代码层面出现重复的解析与默认值逻辑                                                                               |

