"use strict";(self.webpackChunkmy_wiki=self.webpackChunkmy_wiki||[]).push([[7656],{3549:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>t,default:()=>x,frontMatter:()=>d,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"Iflytek/\u6280\u672f\u65b9\u6848/\u5f02\u6b65\u8d44\u6e90\u5bfc\u5165\u67b6\u6784\u8bbe\u8ba1\u8bf4\u660e","title":"\u5f02\u6b65\u8d44\u6e90\u5bfc\u5165\u67b6\u6784\u8bbe\u8ba1\u8bf4\u660e","description":"[[Iflytek/\u6280\u672f\u65b9\u6848/\u591a\u7ebf\u7a0b\u4e0b \u4e0a\u4e0b\u6587\u4fe1\u606f\u4e22\u5931\u95ee\u9898]]","source":"@site/docs/Iflytek/\u6280\u672f\u65b9\u6848/\u5f02\u6b65\u8d44\u6e90\u5bfc\u5165\u67b6\u6784\u8bbe\u8ba1\u8bf4\u660e.md","sourceDirName":"Iflytek/\u6280\u672f\u65b9\u6848","slug":"/Iflytek/\u6280\u672f\u65b9\u6848/\u5f02\u6b65\u8d44\u6e90\u5bfc\u5165\u67b6\u6784\u8bbe\u8ba1\u8bf4\u660e","permalink":"/obsidian/docs/Iflytek/\u6280\u672f\u65b9\u6848/\u5f02\u6b65\u8d44\u6e90\u5bfc\u5165\u67b6\u6784\u8bbe\u8ba1\u8bf4\u660e","draft":false,"unlisted":false,"editUrl":"https://github.com/DHxingxing/obsidian/edit/main/docs/Iflytek/\u6280\u672f\u65b9\u6848/\u5f02\u6b65\u8d44\u6e90\u5bfc\u5165\u67b6\u6784\u8bbe\u8ba1\u8bf4\u660e.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u591a\u7ebf\u7a0b\u4e0b \u4e0a\u4e0b\u6587\u4fe1\u606f\u4e22\u5931\u95ee\u9898","permalink":"/obsidian/docs/Iflytek/\u6280\u672f\u65b9\u6848/\u591a\u7ebf\u7a0b\u4e0b \u4e0a\u4e0b\u6587\u4fe1\u606f\u4e22\u5931\u95ee\u9898"},"next":{"title":"\u6570\u636e\u5e93\u52a8\u6001sql\u62fc\u63a5\u95ee\u9898\uff01todo","permalink":"/obsidian/docs/Iflytek/\u6280\u672f\u65b9\u6848/\u6570\u636e\u5e93\u52a8\u6001sql\u62fc\u63a5\u95ee\u9898\uff01todo"}}');var i=s(4848),l=s(8453);const d={},t=void 0,c={},o=[{value:"\u95ee\u9898\u80cc\u666f",id:"\u95ee\u9898\u80cc\u666f",level:2},{value:"\u6280\u672f\u65b9\u6848",id:"\u6280\u672f\u65b9\u6848",level:2},{value:"Disruptor \u7684\u4f5c\u7528",id:"disruptor-\u7684\u4f5c\u7528",level:3},{value:"Redis Stream \u7684\u4f5c\u7528",id:"redis-stream-\u7684\u4f5c\u7528",level:3},{value:"\u67b6\u6784\u534f\u4f5c\u6d41\u7a0b",id:"\u67b6\u6784\u534f\u4f5c\u6d41\u7a0b",level:3},{value:"\u6280\u672f\u4f18\u52bf",id:"\u6280\u672f\u4f18\u52bf",level:3},{value:"\u914d\u7f6e\u53c2\u6570",id:"\u914d\u7f6e\u53c2\u6570",level:3}];function h(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"[[Iflytek/\u6280\u672f\u65b9\u6848/\u591a\u7ebf\u7a0b\u4e0b \u4e0a\u4e0b\u6587\u4fe1\u606f\u4e22\u5931\u95ee\u9898]]"}),"\n",(0,i.jsx)(e.h2,{id:"\u95ee\u9898\u80cc\u666f",children:"\u95ee\u9898\u80cc\u666f"}),"\n",(0,i.jsx)(e.p,{children:"\u5f53\u6211\u4eec\u521b\u5efa\u6807\u6ce8\u4efb\u52a1\u4e4b\u540e\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u8ba9\u7528\u6237\u5728\u4e00\u4e2a\u7ebf\u7a0b\u4e0b\u7b49\u5f85\u6570\u636e\u7684\u52a0\u8f7d\u3002\u539f\u56e0\u5982\u4e0b\uff1a"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6570\u636e\u91cf\u5de8\u5927"}),"\uff1a\u5355\u4e2a\u6807\u6ce8\u4efb\u52a1\u53ef\u80fd\u6d89\u53ca\u51e0\u4e07\u5230\u51e0\u5341\u4e07\u6761\u8d44\u6e90\u6570\u636e"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7f51\u7edc\u8c03\u7528\u8017\u65f6"}),"\uff1a\u9700\u8981\u901a\u8fc7Feign\u8c03\u7528\u5916\u90e8\u6570\u636e\u96c6\u670d\u52a1\u83b7\u53d6\u8d44\u6e90\u4fe1\u606f"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7528\u6237\u4f53\u9a8c\u6781\u5dee"}),"\uff1a\u7528\u6237\u53ef\u80fd\u9700\u8981\u7b49\u5f85\u51e0\u5206\u949f\u751a\u81f3\u66f4\u957f\u65f6\u95f4"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7cfb\u7edf\u98ce\u9669\u9ad8"}),"\uff1a\u957f\u65f6\u95f4\u5360\u7528HTTP\u8fde\u63a5\uff0c\u5bb9\u6613\u5bfc\u81f4\u8d85\u65f6\u3001\u8fde\u63a5\u6c60\u8017\u5c3d\u7b49\u95ee\u9898"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u6280\u672f\u65b9\u6848",children:"\u6280\u672f\u65b9\u6848"}),"\n",(0,i.jsxs)(e.p,{children:["\u6240\u4ee5\u6211\u4eec\u5f15\u5165\u4e86",(0,i.jsx)(e.strong,{children:"Disruptor"}),"\u5728\u8fd9\u91cc\u505a\u5f02\u6b65\u4fe1\u606f\u7684\u5bfc\u5165\uff0c",(0,i.jsx)(e.strong,{children:"Redis Stream"})," \u6765\u505a\u6d88\u606f\u961f\u5217\u3002"]}),"\n",(0,i.jsx)(e.h3,{id:"disruptor-\u7684\u4f5c\u7528",children:"Disruptor \u7684\u4f5c\u7528"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Disruptor"})," \u4f5c\u4e3a\u9ad8\u6027\u80fd\u5185\u5b58\u7ea7\u4e8b\u4ef6\u5904\u7406\u6846\u67b6\uff0c\u5728\u6211\u4eec\u7684\u67b6\u6784\u4e2d\u627f\u62c5\u4ee5\u4e0b\u804c\u8d23\uff1a"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4efb\u52a1\u62c6\u5206"}),"\uff1a\u5c06\u5927\u6279\u6b21\u8d44\u6e90\u5bfc\u5165\u4efb\u52a1\uff08\u598210\u4e07\u6761\u6570\u636e\uff09\u5feb\u901f\u62c6\u5206\u6210\u591a\u4e2a\u5c0f\u4efb\u52a1\uff08\u5982100\u4e2a1000\u6761\u7684\u5c0f\u6279\u6b21\uff09"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5185\u5b58\u961f\u5217"}),"\uff1a\u63d0\u4f9b\u65e0\u9501\u3001\u9ad8\u541e\u5410\u7684\u5185\u5b58\u961f\u5217\uff0c\u907f\u514d\u4f20\u7edf\u961f\u5217\u7684\u7ebf\u7a0b\u7ade\u4e89"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u591a\u7ebf\u7a0b\u6d88\u8d39"}),"\uff1a\u652f\u63018\u4e2a\u6d88\u8d39\u8005\u7ebf\u7a0b\u5e76\u53d1\u5904\u7406\uff0c\u5145\u5206\u5229\u7528CPU\u8d44\u6e90"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u5f02\u6b65\u89e3\u8026"}),"\uff1a\u5c06HTTP\u8bf7\u6c42\u7ebf\u7a0b\u4e0e\u8d44\u6e90\u5bfc\u5165\u5904\u7406\u7ebf\u7a0b\u5b8c\u5168\u89e3\u8026"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"redis-stream-\u7684\u4f5c\u7528",children:"Redis Stream \u7684\u4f5c\u7528"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Redis Stream"})," \u4f5c\u4e3a\u6301\u4e45\u5316\u6d88\u606f\u961f\u5217\uff0c\u5728\u6211\u4eec\u7684\u67b6\u6784\u4e2d\u627f\u62c5\u4ee5\u4e0b\u804c\u8d23\uff1a"]}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6301\u4e45\u5316\u961f\u5217"}),"\uff1a\u786e\u4fdd\u6d88\u606f\u4e0d\u4e22\u5931\uff0c\u5373\u4f7f\u7cfb\u7edf\u91cd\u542f\u4e5f\u80fd\u7ee7\u7eed\u5904\u7406"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6d88\u8d39\u786e\u8ba4\u673a\u5236"}),"\uff1a\u652f\u6301ACK\u673a\u5236\uff0c\u786e\u4fdd\u6bcf\u6761\u6d88\u606f\u90fd\u88ab\u6b63\u786e\u5904\u7406"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6d41\u63a7\u4fdd\u62a4"}),"\uff1a\u63a7\u5236\u5bf9\u5916\u90e8\u6570\u636e\u96c6\u670d\u52a1\u7684\u5e76\u53d1\u8c03\u7528\uff0c\u907f\u514d\u8fc7\u8f7d"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u53ef\u89c2\u6d4b\u6027"}),"\uff1a\u53ef\u4ee5\u901a\u8fc7Redis\u76d1\u63a7\u6d88\u606f\u5904\u7406\u8fdb\u5ea6\u548c\u5806\u79ef\u60c5\u51b5"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u67b6\u6784\u534f\u4f5c\u6d41\u7a0b",children:"\u67b6\u6784\u534f\u4f5c\u6d41\u7a0b"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u7528\u6237\u521b\u5efa\u4efb\u52a1\n    \u2193\n\u7acb\u5373\u8fd4\u56de\u4efb\u52a1ID (500ms\u5185)\n    \u2193\n\u5b9a\u65f6\u4efb\u52a1\u626b\u63cf \u2192 Disruptor\u4e8b\u4ef6\u53d1\u5e03\n    \u2193\nDisruptor\u6d88\u8d39\u8005\u62c6\u5206\u4efb\u52a1 \u2192 Redis Stream\u6d88\u606f\n    \u2193\nRedis Stream\u6d88\u8d39\u8005 \u2192 Feign\u8c03\u7528\u5916\u90e8\u670d\u52a1\n    \u2193\n\u6570\u636e\u5199\u5165\u672c\u5730\u6570\u636e\u5e93\n    \u2193\n\u5b9a\u65f6\u4efb\u52a1\u68c0\u67e5\u5b8c\u6210\u72b6\u6001\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u6280\u672f\u4f18\u52bf",children:"\u6280\u672f\u4f18\u52bf"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u6027\u80fd\u4f18\u5f02"}),"\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Disruptor\u63d0\u4f9b\u5185\u5b58\u7ea7\u5904\u7406\u901f\u5ea6"}),"\n",(0,i.jsx)(e.li,{children:"Redis Stream\u63d0\u4f9b\u9ad8\u5e76\u53d1\u6d88\u606f\u5904\u7406\u80fd\u529b"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u53ef\u9760\u6027\u5f3a"}),"\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Disruptor\u786e\u4fdd\u5185\u5b58\u4e8b\u4ef6\u4e0d\u4e22\u5931"}),"\n",(0,i.jsx)(e.li,{children:"Redis Stream\u63d0\u4f9b\u6301\u4e45\u5316\u4fdd\u8bc1"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u53ef\u6269\u5c55\u6027\u597d"}),"\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6d88\u8d39\u8005\u6570\u91cf\u53ef\u914d\u7f6e\u8c03\u8282"}),"\n",(0,i.jsx)(e.li,{children:"\u652f\u6301\u6c34\u5e73\u6269\u5c55"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u76d1\u63a7\u53cb\u597d"}),"\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u53ef\u4ee5\u76d1\u63a7Disruptor\u7684RingBuffer\u72b6\u6001"}),"\n",(0,i.jsx)(e.li,{children:"\u53ef\u4ee5\u76d1\u63a7Redis Stream\u7684\u6d88\u606f\u5806\u79ef\u60c5\u51b5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u914d\u7f6e\u53c2\u6570",children:"\u914d\u7f6e\u53c2\u6570"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"system:\n  load-resource:\n    batch-buffer-size: 1048576    # Disruptor\u7f13\u51b2\u533a\u5927\u5c0f(2^20)\n    batch-consumer-size: 8        # Disruptor\u6d88\u8d39\u8005\u6570\u91cf\n    batch-page-size: 1000         # \u6bcf\u6279\u5904\u7406\u7684\u8d44\u6e90\u6570\u91cf\n    consumer-core-threads: 5      # Redis Stream\u6d88\u8d39\u8005\u6838\u5fc3\u7ebf\u7a0b\u6570\n    consumer-max-threads: 10      # Redis Stream\u6d88\u8d39\u8005\u6700\u5927\u7ebf\u7a0b\u6570\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u901a\u8fc7\u8fd9\u79cd",(0,i.jsx)(e.strong,{children:"\u53cc\u5c42\u5f02\u6b65\u67b6\u6784"}),"\uff0c\u6211\u4eec\u5b9e\u73b0\u4e86\u7528\u6237\u4f53\u9a8c\u4e0e\u7cfb\u7edf\u6027\u80fd\u7684\u5b8c\u7f8e\u5e73\u8861\uff0c\u65e2\u4fdd\u8bc1\u4e86\u7528\u6237\u64cd\u4f5c\u7684\u5373\u65f6\u54cd\u5e94\uff0c\u53c8\u786e\u4fdd\u4e86\u5927\u6279\u91cf\u6570\u636e\u5904\u7406\u7684\u9ad8\u6548\u53ef\u9760\u3002"]})]})}function x(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>d,x:()=>t});var r=s(6540);const i={},l=r.createContext(i);function d(n){const e=r.useContext(l);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:d(n.components),r.createElement(l.Provider,{value:e},n.children)}}}]);